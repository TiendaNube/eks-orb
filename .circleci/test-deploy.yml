version: 2.1

orbs:
  aws-cli: circleci/aws-cli@4.2.3
  orb-tools: circleci/orb-tools@12.3.1
  eks: {}

filter-staging: &filter-staging
  branches:
    ignore:
      - /master/
filter-production: &filter-production
  branches:
    only: /master/

workflows:
  production-argo-test-and-deploy:
    jobs:
      - eks/test-cond:
          msg: "Hello, World!"
          filters: *filter-staging
