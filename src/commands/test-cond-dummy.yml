description: |
  Generate an ArgoCD Application from a Helm chart.

parameters:
  migration-phase:
    description: The migration phase to use
    type: string
  expected-migration-phase:
    description: The expected migration phase to validate against
    type: string

steps:
  - run:
      name: Display message
      command: |
        echo "Message: << parameters.migration-phase >>"

  - when:
      condition:
        equal: [<< parameters.migration-phase >>, << parameters.expected-migration-phase >>]
      steps:
        - run:
            name: Values are equal
            command: |
              echo "The values << parameters.migration-phase >> and << parameters.expected-migration-phase >> are equal!"

  - unless:
      condition:
        equal: [<< parameters.migration-phase >>, << parameters.expected-migration-phase >>]
      steps:
        - run:
            name: Values are NOT equal
            command: |
              echo "The values << parameters.migration-phase >> and << parameters.expected-migration-phase >> are NOT equal!"
