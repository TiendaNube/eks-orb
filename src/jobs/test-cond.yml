description: Test conditionals

executor: << parameters.executor >>

parameters:
  executor:
    description: Executor to use for this job
    type: executor
    default: argo
  msg:
    description: Message to display
    type: string

steps:
  - run:
      name: Display message
      command: |
        echo "Message: << parameters.msg >>"

  - run:
      name: Crear archivo pepe
      command: |
        echo "rojo capo" > /tmp/pepe

  - test-cond-dummy:
      migration-phase: "phase1"
      expected-migration-phase: $(cat /tmp/pepe)

  - test-cond-dummy:
      migration-phase: "rojo capo"
      expected-migration-phase: $(cat /tmp/pepe)

  - test-cond-dummy:
      migration-phase: "1"
      expected-migration-phase: "2"
